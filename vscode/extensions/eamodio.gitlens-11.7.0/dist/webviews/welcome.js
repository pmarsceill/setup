(()=>{var t={530:function(t){t.exports=function(){"use strict";var t=6e4,e=36e5,n="millisecond",r="second",s="minute",i="hour",o="day",a="week",u="month",c="quarter",l="year",d="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},y={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),s=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(s,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),s=e.clone().add(r,u),i=n-s<0,o=e.clone().add(r+(i?-1:1),u);return+(-(r+(n-s)/(i?s-o:o-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:l,w:a,d:o,D:d,h:i,m:s,s:r,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",$={};$[v]=g;var b=function(t){return t instanceof M},w=function(t,e,n){var r;if(!t)return v;if("string"==typeof t)$[t]&&(r=t),e&&($[t]=e,r=t);else{var s=t.name;$[s]=t,r=s}return!n&&r&&(v=r),r||!n&&v},S=function(t,e){if(b(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new M(n)},k=y;k.l=w,k.i=b,k.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var M=function(){function g(t){this.$L=w(t.locale,null,!0),this.parse(t)}var m=g.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(k.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(f);if(r){var s=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return k},m.isValid=function(){return!(this.$d.toString()===h)},m.isSame=function(t,e){var n=S(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return S(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<S(t)},m.$g=function(t,e,n){return k.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,c=!!k.u(e)||e,h=k.p(t),f=function(t,e){var r=k.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?r:r.endOf(o)},p=function(t,e){return k.w(n.toDate()[t].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,m=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(h){case l:return c?f(1,0):f(31,11);case u:return c?f(1,m):f(0,m+1);case a:var $=this.$locale().weekStart||0,b=(g<$?g+7:g)-$;return f(c?y-b:y+(6-b),m);case o:case d:return p(v+"Hours",0);case i:return p(v+"Minutes",1);case s:return p(v+"Seconds",2);case r:return p(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var a,c=k.p(t),h="set"+(this.$u?"UTC":""),f=(a={},a[o]=h+"Date",a[d]=h+"Date",a[u]=h+"Month",a[l]=h+"FullYear",a[i]=h+"Hours",a[s]=h+"Minutes",a[r]=h+"Seconds",a[n]=h+"Milliseconds",a)[c],p=c===o?this.$D+(e-this.$W):e;if(c===u||c===l){var g=this.clone().set(d,1);g.$d[f](p),g.init(),this.$d=g.set(d,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[k.p(t)]()},m.add=function(n,c){var d,h=this;n=Number(n);var f=k.p(c),p=function(t){var e=S(h);return k.w(e.date(e.date()+Math.round(t*n)),h)};if(f===u)return this.set(u,this.$M+n);if(f===l)return this.set(l,this.$y+n);if(f===o)return p(1);if(f===a)return p(7);var g=(d={},d[s]=t,d[i]=e,d[r]=1e3,d)[f]||1,m=this.$d.getTime()+n*g;return k.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",s=k.z(this),i=this.$H,o=this.$m,a=this.$M,u=n.weekdays,c=n.months,l=function(t,n,s,i){return t&&(t[n]||t(e,r))||s[n].substr(0,i)},d=function(t){return k.s(i%12||12,t,"0")},f=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:k.s(a+1,2,"0"),MMM:l(n.monthsShort,a,c,3),MMMM:l(c,a),D:this.$D,DD:k.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:k.s(i,2,"0"),h:d(1),hh:d(2),a:f(i,o,!0),A:f(i,o,!1),m:String(o),mm:k.s(o,2,"0"),s:String(this.$s),ss:k.s(this.$s,2,"0"),SSS:k.s(this.$ms,3,"0"),Z:s};return r.replace(p,(function(t,e){return e||g[t]||s.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,d,h){var f,p=k.p(d),g=S(n),m=(g.utcOffset()-this.utcOffset())*t,y=this-g,v=k.m(this,g);return v=(f={},f[l]=v/12,f[u]=v,f[c]=v/3,f[a]=(y-m)/6048e5,f[o]=(y-m)/864e5,f[i]=y/e,f[s]=y/t,f[r]=y/1e3,f)[p]||y,h?v:k.a(v)},m.daysInMonth=function(){return this.endOf(u).$D},m.$locale=function(){return $[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return k.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),P=M.prototype;return S.prototype=P,[["$ms",n],["$s",r],["$m",s],["$H",i],["$W",o],["$M",u],["$y",l],["$D",d]].forEach((function(t){P[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,M,S),t.$i=!0),S},S.locale=w,S.isDayjs=b,S.unix=function(t){return S(1e3*t)},S.en=$[v],S.Ls=$,S.p={},S}()},664:function(t){t.exports=function(){"use strict";return function(t,e,n){var r=e.prototype,s=r.format;n.en.ordinal=function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"},r.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return s.bind(this)(t);var r=this.$utils(),i=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return r.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return r.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return r.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}}));return s.bind(this)(i)}}}()},703:function(t){t.exports=function(){"use strict";return function(t,e,n){t=t||{};var r=e.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(t,e,n,s){return r.fromToBase(t,e,n,s)}n.en.relativeTime=s,r.fromToBase=function(e,r,i,o,a){for(var u,c,l,d=i.$locale().relativeTime||s,h=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=h.length,p=0;p<f;p+=1){var g=h[p];g.d&&(u=o?n(e).diff(i,g.d,!0):i.diff(e,g.d,!0));var m=(t.rounding||Math.round)(Math.abs(u));if(l=u>0,m<=g.r||!g.r){m<=1&&p>0&&(g=h[p-1]);var y=d[g.l];a&&(m=a(""+m)),c="string"==typeof y?y.replace("%d",m):y(m,r,g.l,l);break}}if(r)return c;var v=l?d.future:d.past;return"function"==typeof v?v(c):v.replace("%s",c)},r.to=function(t,e){return i(t,e,this,!0)},r.from=function(t,e){return i(t,e,this)};var o=function(t){return t.$u?n.utc():n()};r.toNow=function(t){return this.to(o(this),t)},r.fromNow=function(t){return this.from(o(this),t)}}}()}},e={};function n(r){var s=e[r];if(void 0!==s)return s.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";class t{constructor(t){this.method=t}}class e{constructor(t){this.method=t}}function r(t,e,n){n(e.params)}const s=new t("configuration/didChange"),i=new e("webview/ready"),o=new e("configuration/update"),a=new e("configuration/preview"),u=new t("configuration/didPreview");new t("settings/jumpTo"),new t("rebase/change"),new e("rebase/abort"),new e("rebase/disable"),new e("rebase/start"),new e("rebase/switch"),new e("rebase/change/entry"),new e("rebase/move/entry");var c=n(530),l=n.n(c),d=n(664),h=n.n(d),f=n(703),p=n.n(f);l().extend(h()),l().extend(p());const g=/^(?:(#?)([0-9a-f]{3}|[0-9a-f]{6})|((?:rgb|hsl)a?)\((-?\d+%?)[,\s]+(-?\d+%?)[,\s]+(-?\d+%?)[,\s]*(-?[\d.]+%?)?\))$/i;function m(t,e){const n=t+e,r=e<0?n<0?0:n:n>255?255:n;return Math.round(r)}function y(t,e){return v(t,-e)}function v(t,e){const n=b(t);if(null==n)return t;const[r,s,i,o]=n,a=255*e/100;return`rgba(${m(r,a)}, ${m(s,a)}, ${m(i,a)}, ${o})`}function $(t,e){const n=b(t);if(null==n)return t;const[r,s,i,o]=n;return`rgba(${r}, ${s}, ${i}, ${o*(e/100)})`}function b(t){t=t.trim();const e=g.exec(t);if(null==e)return null;if("#"===e[1]){const t=e[2];switch(t.length){case 3:return[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),1];case 6:return[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16),1]}return null}switch(e[3]){case"rgb":return[parseInt(e[4],10),parseInt(e[5],10),parseInt(e[6],10),1];case"rgba":return[parseInt(e[4],10),parseInt(e[5],10),parseInt(e[6],10),parseFloat(e[7])];default:return null}}let w=0;var S;(S||(S={})).on=function(t,e,n,r,s){let i=!1;if("string"==typeof t){const o=(null!=s?s:document).querySelectorAll(t);for(const t of o)t.addEventListener(e,n,null!=r&&r);return{dispose:()=>{if(!i){i=!0;for(const t of o)t.removeEventListener(e,n,null!=r&&r)}}}}return t.addEventListener(e,n,null!=r&&r),{dispose:()=>{i||(i=!0,t.removeEventListener(e,n,null!=r&&r))}}};const k=(M=new Date("Wed Jul 25 2018 19:18:00 GMT-0400"),l()(M));var M;let P=0;function D(t){return"true"===t||"false"!==t&&("null"===t?null:t)}function _(t,e,n){const r=e.split("."),s=r.length,i=s-1;let o=-1,a=t;for(;null!=a&&++o<s;){const t=r[o];let e=n;if(o!==i){const n=a[t];e="object"==typeof n?n:{}}a[t]=e,a=a[t]}return t}function I(t){const[e,n,r]=t.trim().split(/([=+!])/);return[e.trim(),void 0!==n?n.trim():"=",void 0!==r?r.trim():r]}function V(t,e){const n={};for(const r in t){const s=t[r];Array.isArray(s)||("object"==typeof s?Object.assign(n,V(s,void 0===e?r:`${e}.${r}`)):n[void 0===e?r:`${e}.${r}`]=s)}return n}function x(t){switch(t){case"on":return!0;case"null":return null;case"undefined":return;default:return t}}new class extends class extends class{constructor(t,e){this.appName=t,this.log(`${this.appName}.ctor`),this._api=acquireVsCodeApi(),function(){const t=()=>{const t=document.body,e=window.getComputedStyle(t),n=t.style,r=e.getPropertyValue("--vscode-font-family").trim();r?(n.setProperty("--font-family",r),n.setProperty("--font-size",e.getPropertyValue("--vscode-font-size").trim()),n.setProperty("--font-weight",e.getPropertyValue("--vscode-font-weight").trim())):(n.setProperty("--font-family",e.getPropertyValue("--vscode-editor-font-family").trim()),n.setProperty("--font-size",e.getPropertyValue("--vscode-editor-font-size").trim()),n.setProperty("--font-weight",e.getPropertyValue("--vscode-editor-font-weight").trim()));let s=e.getPropertyValue("--vscode-editor-background").trim();n.setProperty("--color-background",s),n.setProperty("--color-background--lighten-05",v(s,5)),n.setProperty("--color-background--darken-05",y(s,5)),n.setProperty("--color-background--lighten-075",v(s,7.5)),n.setProperty("--color-background--darken-075",y(s,7.5)),n.setProperty("--color-background--lighten-15",v(s,15)),n.setProperty("--color-background--darken-15",y(s,15)),n.setProperty("--color-background--lighten-30",v(s,30)),n.setProperty("--color-background--darken-30",y(s,30)),n.setProperty("--color-background--lighten-50",v(s,50)),n.setProperty("--color-background--darken-50",y(s,50)),s=e.getPropertyValue("--vscode-button-background").trim(),n.setProperty("--color-button-background",s),n.setProperty("--color-button-background--darken-30",y(s,30)),s=e.getPropertyValue("--vscode-button-secondaryBackground").trim(),n.setProperty("--color-button-secondary-background",s),n.setProperty("--color-button-secondary-background--darken-30",y(s,30)),s=e.getPropertyValue("--vscode-button-background").trim(),n.setProperty("--color-highlight",s),n.setProperty("--color-highlight--75",$(s,75)),n.setProperty("--color-highlight--50",$(s,50)),n.setProperty("--color-highlight--25",$(s,25)),s=e.getPropertyValue("--vscode-button-foreground").trim(),n.setProperty("--color-button-foreground",s),s=e.getPropertyValue("--vscode-editor-foreground").trim(),s||(s=e.getPropertyValue("--vscode-foreground").trim()),n.setProperty("--color-foreground",s),n.setProperty("--color-foreground--85",$(s,85)),n.setProperty("--color-foreground--75",$(s,75)),n.setProperty("--color-foreground--65",$(s,65)),n.setProperty("--color-foreground--50",$(s,50)),s=e.getPropertyValue("--vscode-focusBorder").trim(),n.setProperty("--color-focus-border",s),s=e.getPropertyValue("--vscode-textLink-foreground").trim(),n.setProperty("--color-link-foreground",s),n.setProperty("--color-link-foreground--darken-20",y(s,20)),n.setProperty("--color-link-foreground--lighten-20",v(s,20))};new MutationObserver(t).observe(document.body,{attributes:!0,attributeFilter:["class"]}),t()}(),this.state=e,setTimeout((()=>{var t,e;this.log(`${this.appName}.initializing`),null==(t=this.onInitialize)||t.call(this),this.bind(),null!=this.onMessageReceived&&window.addEventListener("message",this.onMessageReceived.bind(this)),this.sendCommand(i,{}),null==(e=this.onInitialized)||e.call(this),setTimeout((()=>{document.body.classList.remove("preload")}),500)}),0)}bind(){var t,e;null==(t=this.bindDisposables)||t.forEach((t=>t.dispose())),this.bindDisposables=null==(e=this.onBind)?void 0:e.call(this)}log(t){}getState(){return this._api.getState()}sendCommand(t,e){return this.postMessage({id:(w===Number.MAX_SAFE_INTEGER?w=1:w++,`webview:${w}`),method:t.method,params:e})}setState(t){this.state=t,this._api.setState(t)}postMessage(t){this._api.postMessage(t)}}{constructor(t,e){super(t,e),this._changes=Object.create(null),this._updating=!1}onInitialized(){this.updateState()}onBind(){var t,e;const n=null!=(e=null==(t=super.onBind)?void 0:t.call(this))?e:[],r=this;return n.push(S.on("input[type=checkbox][data-setting]","change",(function(){return r.onInputChecked(this)})),S.on("input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]","blur",(function(){return r.onInputBlurred(this)})),S.on("input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]","focus",(function(){return r.onInputFocused(this)})),S.on("input[type=text][data-setting][data-setting-preview], input[type=number][data-setting][data-setting-preview]","input",(function(){return r.onInputChanged(this)})),S.on("select[data-setting]","change",(function(){return r.onInputSelected(this)})),S.on(".popup","mousedown",(function(t){return r.onPopupMouseDown(this,t)}))),n}onMessageReceived(t){const e=t.data;e.method===s.method?r(0,e,(t=>{this.state.config=t.config,this.state.customSettings=t.customSettings,this.updateState()})):void 0!==super.onMessageReceived&&super.onMessageReceived(t)}applyChanges(){this.sendCommand(o,{changes:{...this._changes},removes:Object.keys(this._changes).filter((t=>void 0===this._changes[t])),scope:this.getSettingsScope()}),this._changes=Object.create(null)}getSettingsScope(){return"user"}onInputBlurred(t){this.log(`${this.appName}.onInputBlurred: name=${t.name}, value=${t.value}`);const e=document.getElementById(`${t.name}.popup`);null!=e&&e.classList.add("hidden");let n=t.value;null!=n&&0!==n.length||(n=t.dataset.defaultValue,void 0===n&&(n=null)),this._changes[t.name]="number"===t.type&&null!=n?Number(n):n,this.applyChanges()}onInputChanged(t){if(!this._updating)for(const e of document.querySelectorAll(`span[data-setting-preview="${t.name}"]`))this.updatePreview(e,t.value)}onInputChecked(t){var e,n;if(!this._updating){switch(this.log(`${this.appName}.onInputChecked: name=${t.name}, checked=${t.checked}, value=${t.value}`),t.dataset.settingType){case"object":{const n=t.name.split("."),r=n.splice(0,1)[0],s=null!=(e=this.getSettingValue(r))?e:Object.create(null);t.checked?_(s,n.join("."),x(t.value)):_(s,n.join("."),!1),this._changes[r]=s;break}case"array":{const e=null!=(n=this.getSettingValue(t.name))?n:[];if(Array.isArray(e)){if(t.checked)e.includes(t.value)||e.push(t.value);else{const n=e.indexOf(t.value);-1!==n&&e.splice(n,1)}this._changes[t.name]=e}break}case"custom":this._changes[t.name]=t.checked;break;default:t.checked?this._changes[t.name]=x(t.value):this._changes[t.name]=null!=t.dataset.valueOff&&t.dataset.valueOff}this.setAdditionalSettings(t.checked?t.dataset.addSettingsOn:t.dataset.addSettingsOff),this.applyChanges()}}onInputFocused(t){this.log(`${this.appName}.onInputFocused: name=${t.name}, value=${t.value}`);const e=document.getElementById(`${t.name}.popup`);if(null!=e){if(0===e.childElementCount){const t=document.querySelector("#token-popup"),n=document.importNode(t.content,!0);e.appendChild(n)}e.classList.remove("hidden")}}onInputSelected(t){if(this._updating)return;const e=t.options[t.selectedIndex].value;this.log(`${this.appName}.onInputSelected: name=${t.name}, value=${e}`),this._changes[t.name]=D(e),this.applyChanges()}onPopupMouseDown(t,e){e.preventDefault();const n=e.target;(null==n?void 0:n.matches("[data-token]"))&&this.onTokenMouseDown(n,e)}onTokenMouseDown(t,e){var n;if(this._updating)return;this.log(`${this.appName}.onTokenClicked: id=${t.id}`);const r=t.closest(".setting");if(null==r)return;const s=r.querySelector("input[type=text], input:not([type])");if(null==s)return;const i=`\${${t.dataset.token}}`;let o=s.selectionStart;null!=o?(s.value=`${s.value.substring(0,o)}${i}${s.value.substr(null!=(n=s.selectionEnd)?n:o)}`,o+=i.length):o=s.value.length,s.focus(),s.setSelectionRange(o,o),o===s.value.length&&(s.scrollLeft=s.scrollWidth),setTimeout((()=>this.onInputChanged(s)),0),setTimeout((()=>s.focus()),250),e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()}evaluateStateExpression(t,e){var n,r;let s=!1;for(const i of t.trim().split("&")){const[t,o,a]=I(i);switch(o){case"=":{let r=e[t];void 0===r&&(r=null!=(n=this.getSettingValue(t))&&n),s=void 0!==a?a===String(r):Boolean(r);break}case"!":{let n=e[t];void 0===n&&(n=null!=(r=this.getSettingValue(t))&&r),s=void 0!==a?a!==String(n):!n;break}case"+":if(void 0!==a){const e=this.getSettingValue(t);s=void 0!==e&&e.includes(a.toString())}}if(!s)break}return s}getCustomSettingValue(t){var e;return null==(e=this.state.customSettings)?void 0:e[t]}getSettingValue(t){const e=this.getCustomSettingValue(t);return null!=e?e:function(t,e){return e.split(".").reduce(((t={},e)=>null==t?void 0:t[e]),t)}(this.state.config,t)}updateState(){var t,e,n,r;this._updating=!0;try{for(const r of document.querySelectorAll("input[type=checkbox][data-setting]"))if("custom"===r.dataset.settingType)r.checked=null!=(t=this.getCustomSettingValue(r.name))&&t;else if("array"===r.dataset.settingType)r.checked=(null!=(e=this.getSettingValue(r.name))?e:[]).includes(r.value);else if(null!=r.dataset.valueOff){const t=this.getSettingValue(r.name);r.checked=r.dataset.valueOff!==t}else r.checked=null!=(n=this.getSettingValue(r.name))&&n;for(const t of document.querySelectorAll("input[type=text][data-setting], input[type=number][data-setting], input:not([type])[data-setting]"))t.value=null!=(r=this.getSettingValue(t.name))?r:"";for(const t of document.querySelectorAll("select[data-setting]")){const e=this.getSettingValue(t.name),n=t.querySelector(`option[value='${e}']`);null!=n&&(n.selected=!0)}for(const t of document.querySelectorAll("span[data-setting-preview]"))this.updatePreview(t)}finally{this._updating=!1}const s=V(this.state.config);this.setVisibility(s),this.setEnablement(s)}setAdditionalSettings(t){if(!t)return;const e=function(t){return t.trim().split(",").map((t=>{const[e,n]=t.split("=");return[e,D(n)]}))}(t);for(const[t,n]of e)this._changes[t]=n}setEnablement(t){for(const e of document.querySelectorAll("[data-enablement]")){const n=!this.evaluateStateExpression(e.dataset.enablement,t);if(n?e.setAttribute("disabled",""):e.removeAttribute("disabled"),e.matches("input,select"))e.disabled=n;else{const t=e.querySelector("input,select");if(null==t)continue;t.disabled=n}}}setVisibility(t){for(const e of document.querySelectorAll("[data-visibility]"))e.classList.toggle("hidden",!this.evaluateStateExpression(e.dataset.visibility,t))}updatePreview(t,e){switch(t.dataset.settingPreviewType){case"date":void 0===e&&(e=this.getSettingValue(t.dataset.settingPreview)),null!=e&&0!==e.length||(e=t.dataset.settingPreviewDefault),t.innerText=null==e?"":k.format(e);break;case"commit":{if(void 0===e&&(e=this.getSettingValue(t.dataset.settingPreview)),null!=e&&0!==e.length||(e=t.dataset.settingPreviewDefault),null==e)return void(t.innerText="");const n=(P===Number.MAX_SAFE_INTEGER?P=1:P++,`${P}`),s=S.on(window,"message",(e=>{const i=e.data;i.method===u.method&&i.params.id===n&&(s.dispose(),r(0,i,(e=>{var n;t.innerText=null!=(n=e.preview)?n:""})))}));this.sendCommand(a,{key:t.dataset.settingPreview,type:"commit",id:n,format:e});break}}}}{constructor(){super("WelcomeApp",window.bootstrap),window.bootstrap=void 0}}})()})();
//# sourceMappingURL=welcome.js.map